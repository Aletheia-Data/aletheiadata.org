{"ast":null,"code":"import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport Select, { components } from \"react-select\";\nimport { FacetValue } from \"./types\";\nimport { getFilterValueDisplay } from \"./view-helpers\";\nimport { appendClassName } from \"./view-helpers\";\n\nfunction Option(props) {\n  return (\n    /*#__PURE__*/\n    React.createElement(components.Option, props,\n    /*#__PURE__*/\n    React.createElement(\"span\", {\n      className: \"sui-select__option-label\"\n    }, props.data.label),\n    /*#__PURE__*/\n    React.createElement(\"span\", {\n      className: \"sui-select__option-count\"\n    }, props.data.count.toLocaleString(\"en\")))\n  );\n}\n\nOption.propTypes = {\n  data: PropTypes.object.isRequired\n};\n\nfunction toSelectBoxOption(filterValue) {\n  return {\n    value: filterValue.value,\n    label: getFilterValueDisplay(filterValue.value),\n    count: filterValue.count\n  };\n}\n\nvar setDefaultStyle = {\n  option: function option() {\n    return {};\n  },\n  control: function control() {\n    return {};\n  },\n  dropdownIndicator: function dropdownIndicator() {\n    return {};\n  },\n  indicatorSeparator: function indicatorSeparator() {\n    return {};\n  }\n};\n\nfunction SingleSelectFacet(_ref) {\n  var className = _ref.className,\n      label = _ref.label,\n      _onChange = _ref.onChange,\n      options = _ref.options;\n  var selectedSelectBoxOption;\n  var isSelectedSelectBoxOptionSet = false;\n  var selectBoxOptions = options.map(function (option) {\n    var selectBoxOption = toSelectBoxOption(option); // There should never be multiple filters set for this facet because it is single select,\n    // but if there is, we use the first value.\n\n    if (option.selected && !isSelectedSelectBoxOptionSet) {\n      selectedSelectBoxOption = selectBoxOption;\n      isSelectedSelectBoxOptionSet = true;\n    }\n\n    return selectBoxOption;\n  });\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: appendClassName(\"sui-facet\", className)\n    },\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"sui-facet__title\"\n    }, label),\n    /*#__PURE__*/\n    React.createElement(Select, {\n      className: \"sui-select\",\n      classNamePrefix: \"sui-select\",\n      components: {\n        Option: Option\n      },\n      value: selectedSelectBoxOption,\n      onChange: function onChange(o) {\n        return _onChange(o.value);\n      },\n      options: selectBoxOptions,\n      isSearchable: false,\n      styles: setDefaultStyle\n    }))\n  );\n}\n\nSingleSelectFacet.propTypes = {\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.arrayOf(FacetValue).isRequired,\n  className: PropTypes.string\n};\nexport default SingleSelectFacet;","map":null,"metadata":{},"sourceType":"module"}